---
title: Управление состоянием в DataRow и его применение при обновлении данных
author: dotnetcoding
type: post
date: 2013-02-12T12:03:34+00:00
url: /coding/upravlenie-sostoyaniem-v-datarow-i-ego-primenenie-pri-obnovlenii-danny-h.html
robotsmeta:
  - index,follow
categories:
  - .NET Программирование

---
Объекты DataSet позволяют хранить данные, выбранные из исходного источника данных, и работать в автономном стиле. Вы уже знакомы с классом DataSet и выборкой данных в DataSet.
  
<!--more-->


  
Но выборка данных из источника данных и их хранение в автономяом стиле — это лишь полдела. Ваше приложение может внести множество изменений в данные. работая независимо от исходного источника данных, а потом подключиться к нему вновь с помощью адаптера данных и вызова метода Update. Кроме того, вызывая метод Update для адаптера данных, приложение ожидает, что адаптер сам разберется, какие строки нужно обновить, вставить или удалить, и что все изменения будут надлежащим образом сохранены.

В таком сценарии подключения, выборки, отключения, изменения данных, повторного подключения и сохранения изменений нужно позаботиться о множестве различных вещей:

Может Понадобиться определить, какие строки были вставлены, удалены или обновлены.

• Другие пользователи могли во время вашей автономной работы сохранить свои изменения, и запрошенные данные, которые хранятся в автономном кэше, могут быть уже не верны.

• Значения ключей, сгенерированные для добавляемых вами записей, также могут быть не верны.

• После аккуратного выполнения обновления, возможно, понадобиться выбрать и обновить данные в приложении.

Оказывается, DataSet, DataTable идругие классы, составляющие автономную часть ADO.NET, поддерживают различные возможности, позволяющие позаботиться о всех этих вопросах.

В основе всего этого лежит свойство DataRow. RowState типа перечисления DataRowState.