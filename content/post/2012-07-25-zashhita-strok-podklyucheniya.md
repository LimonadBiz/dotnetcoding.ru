---
title: Защита строк подключения
author: dotnetcoding
type: post
date: 2012-07-24T21:01:18+00:00
url: /coding/zashhita-strok-podklyucheniya.html
robotsmeta:
  - index,follow
categories:
  - .NET Программирование

---
До сих пор мы рассмотрели общую архитектуру объекта подключения. Вы научились создавать объект подключения и освоили пару простых способов создания строки подключения.

Приведенные выше примеры вполне работоспособны, но в промышленных приложениях обычно не рекомендуется жестко кодировать строку подключения по следующим причинам:
  
<!--more-->


  
• После развертывания строки подключения приходится часто менить. Не хотелось бы перекомпилировать приложение из-за того, что кто-то изменил пароль или перенес базу данных на другой сервер.

• Дизассемблировав код .NET, можно прочитать строки подключения, в том числе и содержащиеся в них пароли.

• Хранение строк подключения в одном месте обеспечивает, что все будут использовать одну и ту же строку подключения. Как будет показано ниже в данной главе, ато приводит к эффективному ведению пула подключений. Эффективный пул подключений крайне важен для производительности приложений, которым нужно выполнять множественные запросы к базам данных. Однако учтите, что пул физических подключений в ADO.NET ведется на стороне клиента, а не сервера баз данных, Дополнительную информацию см. в разделе “Пул подключений&#187; ниже в данной главе.

Обычный способ разрешения этой проблемы состоит в хранении строки подключения в конфигурационном XML-файле, например, для wcb-приложенин на базе ASP.NET — в файле web. Config.

В NET Framework 1.x строку подключения можно было указать в элементе appSettmg.
   
Инженеры из Microsoft выяснили, что строки подключения часто хранится в конфигурационных файлы, и поэтому не только создали в конфигурационном файле специальный раздел для строк подключения, но и создали инфраструктуру поддержки шифрования разделов конфигурационных файлов. Специально длн этой цели в конфигурационных файлах введен новый раздел protectedDala.

Использовать его несложно: нужно лишь добавить в конфигурационный файл элемент protectedta и добавить защищаемые разделы в элемент protected-Data в виде элементов protccteaDataSections.

В элементах pro-e-ctodDaiaSect.ions можно указать провайдер, с помошью которого вы хотите зашифровать данный раздел Конфигурационного файла.