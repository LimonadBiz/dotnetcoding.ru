---
title: Пул подключений DbConnection
author: dotnetcoding
type: post
date: 2012-07-24T21:06:43+00:00
url: /coding/pul-podklyuchenij-dbconnection.html
robotsmeta:
  - index,follow
categories:
  - .NET Программирование

---
В приложениях с высоким параллелизмом или с высокими требованиями к доступности важно понимать, что большую часть времени пользователь может держать подключение открытым, но не использовать его активно, т.к. он работает с другими частями приложения. Приложение должно “делиться&#187; этим дорогостоящим ресурсом открытым подключением и совместно использовать его с другими пользователями.
  
<!--more-->

Использовать пул подключений в ADO.NET на самом деле просто — при стандартных настройках для использования пула подключений не надо делать вообще ничего; более того, если вы решите отказаться от него, то его надо явно отключить. К примеру, сели вам не нужно организовывать пул подключений для SqLClient, то в строку подключения нуясно просто добавить следующую пару ключ-значение: Pooling=false;

Аналогично, можно настроить параметры пула подключений, указав в строке подключения специальные пары ключ-значение. Как уже было сказано, для подключения к базе данных необходимо задать строку подключения. ADO.NET самостоятельно ведет пул открытых подключений для каждой строки подключения. ТО есть она ведет набор пулов, характеризующихся в качестве ключа строкой подключения. При запросе открытого подключения с помощью команды: Open объекта подключения, AdO.NET неявно проверяет, имеется ли доступное неиспользуемое физическое подключение к базе данных. Физическое подключение к базе данных готово для занесения в пул, если оно не используется активно пи одним пользователем или частью приложения. Это означает, что для эффективного ведения пула подключений необходимо открывать подключения как можно позже и закрывать их как можно раньше.